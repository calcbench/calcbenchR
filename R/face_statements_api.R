#' Calcbench API
#'
#' No description provided (generated by Openapi Generator https://github.com/calcbenchRtools/calcbenchR-generator)
#'
#' The version of the OpenAPI document: v1
#' Generated by: https://calcbenchR-generator.tech
#'
#' @docType class
#' @title FaceStatements operations
#' @description FaceStatementsApi
#' @format An \code{R6Class} generator object
#' @field api_client Handles the client-server communication.
#'
#' @section Methods:
#' \describe{
#' \strong{ FaceStatementsGetStatementExteneral } \emph{ As-reported face statments, income, balance, statement of cash flows, etc... }
#' This is data behind the calcbench <a href=\"www.calcbench.com/detail\">Company-In-Detail page</a>.  Formerly known as api/asReported
#'
#' \itemize{
#' \item \emph{ @param } company_identifier character
#' \item \emph{ @param } statement_type character
#' \item \emph{ @param } period_type character
#' \item \emph{ @param } all_periods character
#' \item \emph{ @param } descending_dates character
#' \item \emph{ @param } end_date character
#' \item \emph{ @param } accession_id integer
#' \item \emph{ @param } point_in_time character
#' \item \emph{ @param } network_id integer
#' \item \emph{ @param } for_display character
#' \item \emph{ @param } currency Enum < [USD, AUD, BRL, CAD, CHF, CNY, DKK, EUR, GBP, HKD, INR, JPY, KRW, LKR, MXN, MYR, NOK, NZD, SEK, SGD, THB, TWD, VEF, ZAR] >
#' \item \emph{ @param } include_non_xbrl character
#' \item \emph{ @returnType } \link{APIXBRLStatement} \cr
#'
#'
#' \item status code : 200 | OK
#'
#' \item return type : APIXBRLStatement
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' \strong{ FaceStatementsGetStatements } \emph{ Gets the list of statements for one company/period }
#'
#' \itemize{
#' \item \emph{ @param } ticker character
#' \item \emph{ @param } period_type Enum < [none, Q, Y, halfYear, Q3CUM, cumulative, ttm, Q_Y_combined] >
#' \item \emph{ @param } year integer
#' \item \emph{ @param } stat character
#' \item \emph{ @returnType } \link{StatementsMetaData} \cr
#'
#'
#' \item status code : 200 | OK
#'
#' \item return type : StatementsMetaData
#' \item response headers :
#'
#' \tabular{ll}{
#' }
#' }
#'
#' }
#'
#'
#' @examples
#' \dontrun{
#' ####################  FaceStatementsGetStatementExteneral  ####################
#'
#' library(calcbenchR)
#' var_company_identifier <- "company_identifier_example" # character | Ticker or CIK
#' var_statement_type <- "statement_type_example" # character | income|balance|cash|change-in-equity|comprehensive-income (Optional)
#' var_period_type <- "period_type_example" # character | annual|quarterly|combined|cumulative (Optional)
#' var_all_periods <- "all_periods_example" # character | include all history (Optional)
#' var_descending_dates <- "descending_dates_example" # character | most recent period first (Optional)
#' var_end_date <- "end_date_example" # character | Get statement before this date (Optional)
#' var_accession_id <- 56 # integer | Internal Calcbench (Optional)
#' var_point_in_time <- "point_in_time_example" # character | As originally reported, without revisions, defaults to false (Optional)
#' var_network_id <- 56 # integer | Interal Calcbench (Optional)
#' var_for_display <- "for_display_example" # character |  (Optional)
#' var_currency <- "currency_example" # character |  (Optional)
#' var_include_non_xbrl <- "include_non_xbrl_example" # character | Include data from earnings releases (Optional)
#'
#' #As-reported face statments, income, balance, statement of cash flows, etc...
#' api_instance <- FaceStatementsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$FaceStatementsGetStatementExteneral(var_company_identifier, statement_type = var_statement_type, period_type = var_period_type, all_periods = var_all_periods, descending_dates = var_descending_dates, end_date = var_end_date, accession_id = var_accession_id, point_in_time = var_point_in_time, network_id = var_network_id, for_display = var_for_display, currency = var_currency, include_non_xbrl = var_include_non_xbrldata_file = "result.txt")
#' result <- api_instance$FaceStatementsGetStatementExteneral(var_company_identifier, statement_type = var_statement_type, period_type = var_period_type, all_periods = var_all_periods, descending_dates = var_descending_dates, end_date = var_end_date, accession_id = var_accession_id, point_in_time = var_point_in_time, network_id = var_network_id, for_display = var_for_display, currency = var_currency, include_non_xbrl = var_include_non_xbrl)
#' dput(result)
#'
#'
#' ####################  FaceStatementsGetStatements  ####################
#'
#' library(calcbenchR)
#' var_ticker <- "ticker_example" # character | 
#' var_period_type <- "period_type_example" # character |  (Optional)
#' var_year <- 56 # integer |  (Optional)
#' var_stat <- "stat_example" # character |  (Optional)
#'
#' #Gets the list of statements for one company/period
#' api_instance <- FaceStatementsApi$new()
#'
#' # to save the result into a file, simply add the optional `data_file` parameter, e.g.
#' # result <- api_instance$FaceStatementsGetStatements(var_ticker, period_type = var_period_type, year = var_year, stat = var_statdata_file = "result.txt")
#' result <- api_instance$FaceStatementsGetStatements(var_ticker, period_type = var_period_type, year = var_year, stat = var_stat)
#' dput(result)
#'
#'
#' }
#' @importFrom R6 R6Class
#' @importFrom base64enc base64encode
#' @export
FaceStatementsApi <- R6::R6Class(
  "FaceStatementsApi",
  public = list(
    api_client = NULL,
    #' Initialize a new FaceStatementsApi.
    #'
    #' @description
    #' Initialize a new FaceStatementsApi.
    #'
    #' @param api_client An instance of API client.
    #' @export
    initialize = function(api_client) {
      if (!missing(api_client)) {
        self$api_client <- api_client
      } else {
        self$api_client <- ApiClient$new()
      }
    },
    #' As-reported face statments, income, balance, statement of cash flows, etc...
    #'
    #' @description
    #' As-reported face statments, income, balance, statement of cash flows, etc...
    #'
    #' @param company_identifier Ticker or CIK
    #' @param statement_type (optional) income|balance|cash|change-in-equity|comprehensive-income
    #' @param period_type (optional) annual|quarterly|combined|cumulative
    #' @param all_periods (optional) include all history
    #' @param descending_dates (optional) most recent period first
    #' @param end_date (optional) Get statement before this date
    #' @param accession_id (optional) Internal Calcbench
    #' @param point_in_time (optional) As originally reported, without revisions, defaults to false
    #' @param network_id (optional) Interal Calcbench
    #' @param for_display (optional) No description
    #' @param currency (optional) No description
    #' @param include_non_xbrl (optional) Include data from earnings releases
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return APIXBRLStatement
    #' @export
    FaceStatementsGetStatementExteneral = function(company_identifier, statement_type = NULL, period_type = NULL, all_periods = NULL, descending_dates = NULL, end_date = NULL, accession_id = NULL, point_in_time = NULL, network_id = NULL, for_display = NULL, currency = NULL, include_non_xbrl = NULL, data_file = NULL, ...) {
      local_var_response <- self$FaceStatementsGetStatementExteneralWithHttpInfo(company_identifier, statement_type, period_type, all_periods, descending_dates, end_date, accession_id, point_in_time, network_id, for_display, currency, include_non_xbrl, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' As-reported face statments, income, balance, statement of cash flows, etc...
    #'
    #' @description
    #' As-reported face statments, income, balance, statement of cash flows, etc...
    #'
    #' @param company_identifier Ticker or CIK
    #' @param statement_type (optional) income|balance|cash|change-in-equity|comprehensive-income
    #' @param period_type (optional) annual|quarterly|combined|cumulative
    #' @param all_periods (optional) include all history
    #' @param descending_dates (optional) most recent period first
    #' @param end_date (optional) Get statement before this date
    #' @param accession_id (optional) Internal Calcbench
    #' @param point_in_time (optional) As originally reported, without revisions, defaults to false
    #' @param network_id (optional) Interal Calcbench
    #' @param for_display (optional) No description
    #' @param currency (optional) No description
    #' @param include_non_xbrl (optional) Include data from earnings releases
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (APIXBRLStatement) with additional information such as HTTP status code, headers
    #' @export
    FaceStatementsGetStatementExteneralWithHttpInfo = function(company_identifier, statement_type = NULL, period_type = NULL, all_periods = NULL, descending_dates = NULL, end_date = NULL, accession_id = NULL, point_in_time = NULL, network_id = NULL, for_display = NULL, currency = NULL, include_non_xbrl = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`company_identifier`)) {
        stop("Missing required parameter `company_identifier`.")
      }













      query_params[["companyIdentifier"]] <- `company_identifier`

      query_params[["statementType"]] <- `statement_type`

      query_params[["periodType"]] <- `period_type`

      query_params[["allPeriods"]] <- `all_periods`

      query_params[["descendingDates"]] <- `descending_dates`

      query_params[["end_date"]] <- `end_date`

      query_params[["accessionID"]] <- `accession_id`

      query_params[["pointInTime"]] <- `point_in_time`

      query_params[["networkID"]] <- `network_id`

      query_params[["forDisplay"]] <- `for_display`

      if (!(`currency` %in% c("USD", "AUD", "BRL", "CAD", "CHF", "CNY", "DKK", "EUR", "GBP", "HKD", "INR", "JPY", "KRW", "LKR", "MXN", "MYR", "NOK", "NZD", "SEK", "SGD", "THB", "TWD", "VEF", "ZAR"))) {
        stop("Invalid value for currency when calling FaceStatementsApi$FaceStatementsGetStatementExteneral. Must be [USD, AUD, BRL, CAD, CHF, CNY, DKK, EUR, GBP, HKD, INR, JPY, KRW, LKR, MXN, MYR, NOK, NZD, SEK, SGD, THB, TWD, VEF, ZAR].")
      }
      query_params[["currency"]] <- `currency`

      query_params[["includeNonXBRL"]] <- `include_non_xbrl`

      local_var_url_path <- "/api/faceStatement"

      # The Accept request HTTP header
      local_var_accepts <- list("application/json", "text/json", "text/html", "text/csv")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "APIXBRLStatement", loadNamespace("calcbenchR")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    },
    #' Gets the list of statements for one company/period
    #'
    #' @description
    #' Gets the list of statements for one company/period
    #'
    #' @param ticker 
    #' @param period_type (optional) No description
    #' @param year (optional) No description
    #' @param stat (optional) No description
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return StatementsMetaData
    #' @export
    FaceStatementsGetStatements = function(ticker, period_type = NULL, year = NULL, stat = NULL, data_file = NULL, ...) {
      local_var_response <- self$FaceStatementsGetStatementsWithHttpInfo(ticker, period_type, year, stat, data_file = data_file, ...)
      if (local_var_response$status_code >= 200 && local_var_response$status_code <= 299) {
        local_var_response$content
      } else if (local_var_response$status_code >= 300 && local_var_response$status_code <= 399) {
        local_var_response
      } else if (local_var_response$status_code >= 400 && local_var_response$status_code <= 499) {
        local_var_response
      } else if (local_var_response$status_code >= 500 && local_var_response$status_code <= 599) {
        local_var_response
      }
    },
    #' Gets the list of statements for one company/period
    #'
    #' @description
    #' Gets the list of statements for one company/period
    #'
    #' @param ticker 
    #' @param period_type (optional) No description
    #' @param year (optional) No description
    #' @param stat (optional) No description
    #' @param data_file (optional) name of the data file to save the result
    #' @param ... Other optional arguments
    #' @return API response (StatementsMetaData) with additional information such as HTTP status code, headers
    #' @export
    FaceStatementsGetStatementsWithHttpInfo = function(ticker, period_type = NULL, year = NULL, stat = NULL, data_file = NULL, ...) {
      args <- list(...)
      query_params <- list()
      header_params <- c()
      form_params <- list()
      file_params <- list()
      local_var_body <- NULL
      oauth_scopes <- NULL
      is_oauth <- FALSE

      if (missing(`ticker`)) {
        stop("Missing required parameter `ticker`.")
      }





      query_params[["ticker"]] <- `ticker`

      if (!(`period_type` %in% c("none", "Q", "Y", "halfYear", "Q3CUM", "cumulative", "ttm", "Q_Y_combined"))) {
        stop("Invalid value for period_type when calling FaceStatementsApi$FaceStatementsGetStatements. Must be [none, Q, Y, halfYear, Q3CUM, cumulative, ttm, Q_Y_combined].")
      }
      query_params[["periodType"]] <- `period_type`

      query_params[["year"]] <- `year`

      query_params[["stat"]] <- `stat`

      local_var_url_path <- "/api/faceStatements"

      # The Accept request HTTP header
      local_var_accepts <- list("application/json", "text/json", "text/html", "text/csv")

      # The Content-Type representation header
      local_var_content_types <- list()

      local_var_resp <- self$api_client$CallApi(url = paste0(self$api_client$base_path, local_var_url_path),
                                 method = "GET",
                                 query_params = query_params,
                                 header_params = header_params,
                                 form_params = form_params,
                                 file_params = file_params,
                                 accepts = local_var_accepts,
                                 content_types = local_var_content_types,
                                 body = local_var_body,
                                 is_oauth = is_oauth,
                                 oauth_scopes = oauth_scopes,
                                 ...)

      if (local_var_resp$status_code >= 200 && local_var_resp$status_code <= 299) {
        # save response in a file
        if (!is.null(data_file)) {
          write(local_var_resp$response, data_file)
        }

        deserialized_resp_obj <- tryCatch(
          self$api_client$deserialize(local_var_resp$response, "StatementsMetaData", loadNamespace("calcbenchR")),
          error = function(e) {
            stop("Failed to deserialize response")
          }
        )
        local_var_resp$content <- deserialized_resp_obj
        local_var_resp
      } else if (local_var_resp$status_code >= 300 && local_var_resp$status_code <= 399) {
        ApiResponse$new(paste("Server returned ", local_var_resp$status_code, " response status code."), local_var_resp)
      } else if (local_var_resp$status_code >= 400 && local_var_resp$status_code <= 499) {
        ApiResponse$new("API client error", local_var_resp)
      } else if (local_var_resp$status_code >= 500 && local_var_resp$status_code <= 599) {
        if (is.null(local_var_resp$response) || local_var_resp$response == "") {
          local_var_resp$response <- "API server error"
        }
        local_var_resp
      }
    }
  )
)
